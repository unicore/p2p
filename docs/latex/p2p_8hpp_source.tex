\hypertarget{p2p_8hpp_source}{}\doxysection{p2p.\+hpp}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#include <eosio/eosio.hpp>}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <eosio/asset.hpp>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <eosio/system.hpp>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <eosio/time.hpp>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <eosio/multi\_index.hpp>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <eosio/contract.hpp>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <eosio/crypto.hpp>}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{using namespace }eosio;}
\DoxyCodeLine{13 }
\DoxyCodeLine{17 \textcolor{keyword}{class }[[eosio::contract]] \mbox{\hyperlink{classp2p}{p2p}} : \textcolor{keyword}{public} eosio::contract \{}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{keyword}{public}:}
\DoxyCodeLine{20     \mbox{\hyperlink{classp2p}{p2p}}( eosio::name receiver, eosio::name code, eosio::datastream<const char*> ds ): eosio::contract(receiver, code, ds)}
\DoxyCodeLine{21     \{\}}
\DoxyCodeLine{22     \textcolor{keywordtype}{void} apply(uint64\_t receiver, uint64\_t code, uint64\_t action);}
\DoxyCodeLine{23     }
\DoxyCodeLine{24     \textcolor{keyword}{static} \textcolor{keywordtype}{void} add\_balance(eosio::name payer, eosio::asset quantity, eosio::name contract);   }
\DoxyCodeLine{25     \textcolor{keyword}{static} \textcolor{keywordtype}{void} sub\_balance(eosio::name username, eosio::asset quantity, eosio::name contract);}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \textcolor{keyword}{static} \textcolor{keywordtype}{void} addbbal(eosio::name host, eosio::name contract, eosio::asset quantity);}
\DoxyCodeLine{28     \textcolor{keyword}{static} \textcolor{keywordtype}{void} subbbal(eosio::name host, eosio::name contract, eosio::asset quantity);}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     \textcolor{keyword}{static} \textcolor{keywordtype}{void} make\_vesting\_action(eosio::name owner, eosio::name contract, eosio::asset amount);}
\DoxyCodeLine{31 }
\DoxyCodeLine{32     \textcolor{keyword}{static} \textcolor{keywordtype}{void} check\_bonuse\_system(eosio::name creator, eosio::name reciever, eosio::asset quantity);}
\DoxyCodeLine{33 }
\DoxyCodeLine{34     \textcolor{keyword}{static} \textcolor{keywordtype}{void} check\_guest\_and\_gift\_account(eosio::name username, eosio::name contract, eosio::asset amount);}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{keyword}{static} uint64\_t get\_order\_id();}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     [[eosio::action]]}
\DoxyCodeLine{39     \textcolor{keywordtype}{void} createorder(name username, uint64\_t parent\_id, name type, eosio::name root\_contract, eosio::asset root\_quantity, eosio::name quote\_type, \textcolor{keywordtype}{double} quote\_rate, eosio::name quote\_contract, eosio::asset quote\_quantity, eosio::name out\_type, \textcolor{keywordtype}{double} out\_rate, eosio::name out\_contract, eosio::asset out\_quantity, std::string details);}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     [[eosio::action]]}
\DoxyCodeLine{42     \textcolor{keywordtype}{void} accept(name username, uint64\_t \textcolor{keywordtype}{id}, std::string details);}
\DoxyCodeLine{43      }
\DoxyCodeLine{44     [[eosio::action]]}
\DoxyCodeLine{45     \textcolor{keywordtype}{void} approve(name username, uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     [[eosio::action]]}
\DoxyCodeLine{48     \textcolor{keywordtype}{void} confirm(name username, uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     [[eosio::action]]}
\DoxyCodeLine{51     \textcolor{keywordtype}{void} cancel(name username, uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{52     }
\DoxyCodeLine{53     [[eosio::action]]}
\DoxyCodeLine{54     \textcolor{keywordtype}{void} dispute(name username, uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{55     }
\DoxyCodeLine{56     [[eosio::action]]}
\DoxyCodeLine{57     \textcolor{keywordtype}{void} del(name username, uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{58     }
\DoxyCodeLine{59     [[eosio::action]]}
\DoxyCodeLine{60     \textcolor{keywordtype}{void} setrate(eosio::name out\_contract, eosio::asset out\_asset, \textcolor{keywordtype}{double} rate);}
\DoxyCodeLine{61     }
\DoxyCodeLine{62     [[eosio::action]]}
\DoxyCodeLine{63     \textcolor{keywordtype}{void} uprate(eosio::name out\_contract, eosio::asset out\_asset);}
\DoxyCodeLine{64      }
\DoxyCodeLine{65     [[eosio::action]]}
\DoxyCodeLine{66     \textcolor{keywordtype}{void} delrate(uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{67     }
\DoxyCodeLine{68     [[eosio::action]]}
\DoxyCodeLine{69     \textcolor{keywordtype}{void} delvesting(eosio::name owner, uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     [[eosio::action]]}
\DoxyCodeLine{72     \textcolor{keywordtype}{void} setbrate(eosio::name host, \textcolor{keywordtype}{double} distribution\_rate);}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     [[eosio::action]] }
\DoxyCodeLine{75     \textcolor{keywordtype}{void} refreshsh (eosio::name owner, uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{76     }
\DoxyCodeLine{77     [[eosio::action]] }
\DoxyCodeLine{78     \textcolor{keywordtype}{void} withdrawsh(eosio::name owner, uint64\_t \textcolor{keywordtype}{id});}
\DoxyCodeLine{79         }
\DoxyCodeLine{80     }
\DoxyCodeLine{87     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} eosio::name \_me = \textcolor{stringliteral}{"{}p2p"{}}\_n;                                             }
\DoxyCodeLine{88     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} eosio::name \_curator = \textcolor{stringliteral}{"{}p2p"{}}\_n;                                        }
\DoxyCodeLine{89     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} eosio::name \_rater = \textcolor{stringliteral}{"{}rater"{}}\_n;                                        }
\DoxyCodeLine{90     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} eosio::symbol \_SYM     = eosio::symbol(eosio::symbol\_code(\textcolor{stringliteral}{"{}FLOWER"{}}), 4);  }
\DoxyCodeLine{91     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} eosio::name \_core = \textcolor{stringliteral}{"{}unicore"{}}\_n;                                       }
\DoxyCodeLine{93     \textcolor{keyword}{static} \textcolor{keyword}{const} uint64\_t \_PERCENTS\_PER\_MONTH = 42;                                         }
\DoxyCodeLine{95     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \_ENABLE\_GROWHT = \textcolor{keyword}{false};                                                }
\DoxyCodeLine{97     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \_ENABLE\_VESTING = \textcolor{keyword}{false};                                               }
\DoxyCodeLine{98     \textcolor{keyword}{static} \textcolor{keyword}{const} uint64\_t \_VESTING\_SECONDS = 15770000;                                      }
\DoxyCodeLine{99     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} eosio::name \_CORE\_SALE\_ACCOUNT = \textcolor{stringliteral}{"{}core"{}}\_n;                             }
\DoxyCodeLine{100     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} eosio::name \_REGISTRATOR\_ACCOUNT = \textcolor{stringliteral}{"{}registrator"{}}\_n;                    }
\DoxyCodeLine{102     \textcolor{keyword}{static} \textcolor{keyword}{const} uint64\_t \_GIFT\_ACCOUNT\_FROM\_AMOUNT = 100000;                               }
\DoxyCodeLine{104     \textcolor{comment}{// static const uint64\_t \_ORDER\_EXPIRATION = 10;                                        /*!< время до истечения срока давности ордера */}}
\DoxyCodeLine{105     \textcolor{keyword}{static} \textcolor{keyword}{const} uint64\_t \_ORDER\_EXPIRATION = 30 * 60;                                      }
\DoxyCodeLine{106     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{double} \_START\_RATE = 0.2;                                              }
\DoxyCodeLine{112     \textcolor{keyword}{static} uint128\_t combine\_ids(\textcolor{keyword}{const} uint64\_t \&x, \textcolor{keyword}{const} uint64\_t \&y) \{}
\DoxyCodeLine{113         \textcolor{keywordflow}{return} (uint128\_t\{x\} << 64) | y;}
\DoxyCodeLine{114     \};}
\DoxyCodeLine{115 }
\DoxyCodeLine{116 }
\DoxyCodeLine{124     \textcolor{keyword}{struct }[[eosio::table]] \mbox{\hyperlink{structp2p_1_1balance}{balance}} \{}
\DoxyCodeLine{125         uint64\_t id;}
\DoxyCodeLine{126         eosio::name contract;}
\DoxyCodeLine{127         eosio::asset quantity;}
\DoxyCodeLine{128 }
\DoxyCodeLine{129         uint64\_t primary\_key()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} id;\}}
\DoxyCodeLine{130         uint128\_t byconsym()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} combine\_ids(contract.value, quantity.symbol.code().raw());\}}
\DoxyCodeLine{131 }
\DoxyCodeLine{132         EOSLIB\_SERIALIZE(\mbox{\hyperlink{structp2p_1_1balance}{balance}}, (\textcolor{keywordtype}{id})(contract)(quantity))}
\DoxyCodeLine{133     \};}
\DoxyCodeLine{134 }
\DoxyCodeLine{135     }
\DoxyCodeLine{136 }
\DoxyCodeLine{137     \textcolor{keyword}{typedef} eosio::multi\_index<\textcolor{stringliteral}{"{}balance"{}}\_n, \mbox{\hyperlink{structp2p_1_1balance}{balance}},}
\DoxyCodeLine{138     }
\DoxyCodeLine{139       eosio::indexed\_by< \textcolor{stringliteral}{"{}byconsym"{}}\_n, eosio::const\_mem\_fun<balance, uint128\_t, \&balance::byconsym>>}
\DoxyCodeLine{140     }
\DoxyCodeLine{141     > balances\_index;}
\DoxyCodeLine{142 }
\DoxyCodeLine{143 }
\DoxyCodeLine{144 }
\DoxyCodeLine{151     \textcolor{keyword}{struct }[[eosio::table]] \mbox{\hyperlink{structp2p_1_1counts}{counts}} \{}
\DoxyCodeLine{152         name \mbox{\hyperlink{structp2p_1_1counts_a020c8e7885212e936588e4bed5acb2d6}{key}};           }
\DoxyCodeLine{153         uint64\_t \mbox{\hyperlink{structp2p_1_1counts_ababe8a6132ad10bc973c664c6a062749}{value}};     }
\DoxyCodeLine{155         uint64\_t \mbox{\hyperlink{structp2p_1_1counts_aef65d71b33a8ec444becd69edc9cd704}{primary\_key}}()\textcolor{keyword}{const }\{ \textcolor{keywordflow}{return} key.value; \} }
\DoxyCodeLine{157     \};}
\DoxyCodeLine{158 }
\DoxyCodeLine{159     \textcolor{keyword}{typedef} eosio::multi\_index<\textcolor{stringliteral}{"{}counts"{}}\_n, counts> counts\_index;}
\DoxyCodeLine{160     }
\DoxyCodeLine{161 }
\DoxyCodeLine{169     \textcolor{keyword}{struct }[[eosio::table]] \mbox{\hyperlink{structp2p_1_1orders}{orders}} \{}
\DoxyCodeLine{170         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a128d2278d493599833f51e06310cdeb4}{id}};                                }
\DoxyCodeLine{171         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a587e23863136871fe42e47950037ae9c}{parent\_id}};                         }
\DoxyCodeLine{173         name \mbox{\hyperlink{structp2p_1_1orders_a3f36507a769c0ec66ca553722a842c2a}{curator}};                               }
\DoxyCodeLine{174         name \mbox{\hyperlink{structp2p_1_1orders_ae2b7e5411d8ddcd0e7c2be0fbb177686}{creator}};                               }
\DoxyCodeLine{175         name \mbox{\hyperlink{structp2p_1_1orders_aec4e15d60ed528fd396443cf448197aa}{parent\_creator}};                        }
\DoxyCodeLine{176         name \mbox{\hyperlink{structp2p_1_1orders_a60ac740af13940b35f388cb2c17c4f3a}{type}};                                  }
\DoxyCodeLine{177         asset \mbox{\hyperlink{structp2p_1_1orders_ab805e2be0b457dbba918a014d792d84a}{root\_quantity}};                        }
\DoxyCodeLine{179         std::string \mbox{\hyperlink{structp2p_1_1orders_aa2030987fac872badf6682757cd75a6c}{root\_symbol}};                    }
\DoxyCodeLine{180         eosio::name \mbox{\hyperlink{structp2p_1_1orders_af0f8a3e55db6c2a7642eb25fdb4a4f50}{root\_contract}};                  }
\DoxyCodeLine{181         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a303fa40509f75981e8353d066898b837}{root\_precision}};                    }
\DoxyCodeLine{183         asset \mbox{\hyperlink{structp2p_1_1orders_aea7698baa46bbde12ec30bbb47be8abd}{root\_remain}};                          }
\DoxyCodeLine{184         eosio::asset \mbox{\hyperlink{structp2p_1_1orders_ab3e7388b2300e22f5b81678c6ccb70a7}{root\_locked}};                   }
\DoxyCodeLine{185         eosio::asset \mbox{\hyperlink{structp2p_1_1orders_aff1ea77bef5d251952e8d5e1f1dcfbc1}{root\_completed}};                }
\DoxyCodeLine{187         name \mbox{\hyperlink{structp2p_1_1orders_ae2d706bd60dd6808b5d8d06cb584ca26}{quote\_type}};                            }
\DoxyCodeLine{188         \textcolor{keywordtype}{double} \mbox{\hyperlink{structp2p_1_1orders_a899228a1b7443c077096429aa5498224}{quote\_rate}};                          }
\DoxyCodeLine{189         std::string \mbox{\hyperlink{structp2p_1_1orders_ade50869ce026a09b486aff7dcd157d39}{quote\_symbol}};                   }
\DoxyCodeLine{190         eosio::name \mbox{\hyperlink{structp2p_1_1orders_a033746dfead78477824e8ae920505faa}{quote\_contract}};                 }
\DoxyCodeLine{191         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_af823490b297c8135453f15277efbf294}{quote\_precision}};                   }
\DoxyCodeLine{193         asset \mbox{\hyperlink{structp2p_1_1orders_aaeba745745fe627561e3b9b608443c7f}{quote\_quantity}};                       }
\DoxyCodeLine{194         asset \mbox{\hyperlink{structp2p_1_1orders_a62f809bf29bcd440512ef3d508232ac0}{quote\_remain}};                         }
\DoxyCodeLine{195         asset \mbox{\hyperlink{structp2p_1_1orders_a1c5f68d399cb96227e42833374aee105}{quote\_locked}};                         }
\DoxyCodeLine{196         asset \mbox{\hyperlink{structp2p_1_1orders_ad4da8c4849fb7f2488e3e000f9461002}{quote\_completed}};                      }
\DoxyCodeLine{198         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_af4327f5bcde3db4dd60cfdd6ddce7611}{out\_currency\_code}};                 }
\DoxyCodeLine{199         name \mbox{\hyperlink{structp2p_1_1orders_ad8c0bf06458e15a53a06e404e2e2130d}{out\_type}};                              }
\DoxyCodeLine{200         \textcolor{keywordtype}{double} \mbox{\hyperlink{structp2p_1_1orders_a3208416b574632d2aaef6c138223a0ea}{out\_rate}};                            }
\DoxyCodeLine{201         std::string \mbox{\hyperlink{structp2p_1_1orders_a726223d82cdc43e2b734cf673835c582}{out\_symbol}};                     }
\DoxyCodeLine{202         name \mbox{\hyperlink{structp2p_1_1orders_a48670835e7e5bd889473a81c3fafbbd2}{out\_contract}};                          }
\DoxyCodeLine{203         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_ae6b70d5a03f4d20a0ccf199e4ebf5af5}{out\_precision}};                     }
\DoxyCodeLine{205         asset \mbox{\hyperlink{structp2p_1_1orders_ab1b872e009bc0f52603ba2b54c521c1a}{out\_quantity}};                         }
\DoxyCodeLine{206         asset \mbox{\hyperlink{structp2p_1_1orders_ad375146e4c5f03d42250be97b8d43cde}{out\_remain}};                           }
\DoxyCodeLine{207         asset \mbox{\hyperlink{structp2p_1_1orders_ae159e6986c8beaf43892ca85f9c702d5}{out\_locked}};                           }
\DoxyCodeLine{208         asset \mbox{\hyperlink{structp2p_1_1orders_ae63f9eba373c1c401e5326db46625068}{out\_completed}};                        }
\DoxyCodeLine{210         std::string \mbox{\hyperlink{structp2p_1_1orders_a223eac1f67f878e4bfc3c3918deadcfc}{details}};                        }
\DoxyCodeLine{211         name \mbox{\hyperlink{structp2p_1_1orders_a0a4acd537d4a6ac966469faa648b43f2}{status}};                                }
\DoxyCodeLine{212         eosio::time\_point\_sec \mbox{\hyperlink{structp2p_1_1orders_afe3f0c2fcb252679efbd4143fc86d42d}{expired\_at}};           }
\DoxyCodeLine{213         eosio::time\_point\_sec \mbox{\hyperlink{structp2p_1_1orders_afb5f4469a9ae8b84da84b287853ceb42}{created\_at}};           }
\DoxyCodeLine{215         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a550c32d8d3f0ec4770662acec7bb5197}{primary\_key}}()\textcolor{keyword}{const }\{ \textcolor{keywordflow}{return} id; \}                              }
\DoxyCodeLine{216         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_ab6f05a725122c94d3f2dcfaf24322c47}{bycurrcode}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} out\_currency\_code;\}                 }
\DoxyCodeLine{218         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a2b790da517561e8a593b6c56d63c4cfd}{byparentid}}()\textcolor{keyword}{const }\{ \textcolor{keywordflow}{return} parent\_id;\}                         }
\DoxyCodeLine{219         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a17505cc3759a5ba5099f490c982535e1}{bytype}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} type.value;\}                            }
\DoxyCodeLine{221         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a91b49c417f79ef405982bfe348651a98}{bycreator}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} creator.value;\}                      }
\DoxyCodeLine{222         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a76fa8b54f391ccd2e29b640d4c0199df}{bycurator}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} curator.value;\}                      }
\DoxyCodeLine{223         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a31e70a285fb324d4ee07b1b149debff3}{bystatus}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} status.value;\}                        }
\DoxyCodeLine{224         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a8cf94dfb0902511c6baae1dd0434dcbf}{byexpr}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} expired\_at.sec\_since\_epoch();\}          }
\DoxyCodeLine{225         uint64\_t \mbox{\hyperlink{structp2p_1_1orders_a6eab9cb4d0f7b605aef8856aad730fe5}{bycreated}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} created\_at.sec\_since\_epoch();\}       }
\DoxyCodeLine{227     \};}
\DoxyCodeLine{228 }
\DoxyCodeLine{229     \textcolor{keyword}{typedef} eosio::multi\_index< \textcolor{stringliteral}{"{}orders"{}}\_n, orders,}
\DoxyCodeLine{230         eosio::indexed\_by<\textcolor{stringliteral}{"{}bycurrcode"{}}\_n, eosio::const\_mem\_fun<orders, uint64\_t, \&orders::bycurrcode>>,}
\DoxyCodeLine{231         eosio::indexed\_by<\textcolor{stringliteral}{"{}byparentid"{}}\_n, eosio::const\_mem\_fun<orders, uint64\_t, \&orders::byparentid>>,}
\DoxyCodeLine{232         eosio::indexed\_by<\textcolor{stringliteral}{"{}bytype"{}}\_n, eosio::const\_mem\_fun<orders, uint64\_t, \&orders::bytype>>,}
\DoxyCodeLine{233         eosio::indexed\_by<\textcolor{stringliteral}{"{}bycreator"{}}\_n, eosio::const\_mem\_fun<orders, uint64\_t, \&orders::bycreator>>,}
\DoxyCodeLine{234         eosio::indexed\_by<\textcolor{stringliteral}{"{}bycurator"{}}\_n, eosio::const\_mem\_fun<orders, uint64\_t, \&orders::bycurator>>,}
\DoxyCodeLine{235         eosio::indexed\_by<\textcolor{stringliteral}{"{}bystatus"{}}\_n, eosio::const\_mem\_fun<orders, uint64\_t, \&orders::bystatus>>,}
\DoxyCodeLine{236         eosio::indexed\_by<\textcolor{stringliteral}{"{}byexpr"{}}\_n, eosio::const\_mem\_fun<orders, uint64\_t, \&orders::byexpr>>,}
\DoxyCodeLine{237         eosio::indexed\_by<\textcolor{stringliteral}{"{}bycreated"{}}\_n, eosio::const\_mem\_fun<orders, uint64\_t, \&orders::bycreated>>}
\DoxyCodeLine{238   }
\DoxyCodeLine{239     > orders\_index;}
\DoxyCodeLine{240 }
\DoxyCodeLine{241 }
\DoxyCodeLine{242 }
\DoxyCodeLine{250     \textcolor{keyword}{struct }[[eosio::table]] \mbox{\hyperlink{structp2p_1_1usdrates}{usdrates}} \{}
\DoxyCodeLine{251         uint64\_t \mbox{\hyperlink{structp2p_1_1usdrates_a5f755d95b0efa7942636fddfae33db2f}{id}};                        }
\DoxyCodeLine{252         eosio::name \mbox{\hyperlink{structp2p_1_1usdrates_a6e1aa8746a552939956d3aa3e93782d9}{out\_contract}};           }
\DoxyCodeLine{253         eosio::asset \mbox{\hyperlink{structp2p_1_1usdrates_ac6ba77785a025d183b2378d5b1bb7f69}{out\_asset}};             }
\DoxyCodeLine{254         \textcolor{keywordtype}{double} \mbox{\hyperlink{structp2p_1_1usdrates_a4a0439519abb54675759686a1b5fe43a}{rate}};                        }
\DoxyCodeLine{255         eosio::time\_point\_sec \mbox{\hyperlink{structp2p_1_1usdrates_a79bb6e9971e40371c8003013887bf294}{updated\_at}};   }
\DoxyCodeLine{257         uint64\_t \mbox{\hyperlink{structp2p_1_1usdrates_a8bdf953b105c26b52b6fe3be2b910925}{primary\_key}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} id;\} }
\DoxyCodeLine{258         uint128\_t \mbox{\hyperlink{structp2p_1_1usdrates_a6d13bdd9e62d26ca68146e642e330099}{byconsym}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} combine\_ids(out\_contract.value, out\_asset.symbol.code().raw());\} }
\DoxyCodeLine{260     \};}
\DoxyCodeLine{261 }
\DoxyCodeLine{262     \textcolor{keyword}{typedef} eosio::multi\_index<\textcolor{stringliteral}{"{}usdrates"{}}\_n, usdrates,}
\DoxyCodeLine{263     }
\DoxyCodeLine{264       eosio::indexed\_by< \textcolor{stringliteral}{"{}byconsym"{}}\_n, eosio::const\_mem\_fun<usdrates, uint128\_t, \&usdrates::byconsym>>}
\DoxyCodeLine{265     }
\DoxyCodeLine{266     > usdrates\_index;}
\DoxyCodeLine{267 }
\DoxyCodeLine{268 }
\DoxyCodeLine{269 }
\DoxyCodeLine{275     \textcolor{keyword}{struct }[[eosio::table]] \mbox{\hyperlink{structp2p_1_1usdrates2}{usdrates2}} \{}
\DoxyCodeLine{276         uint64\_t \mbox{\hyperlink{structp2p_1_1usdrates2_aba230f3a86e3c9eb693c41d501378c22}{id}}; }
\DoxyCodeLine{277         eosio::time\_point\_sec \mbox{\hyperlink{structp2p_1_1usdrates2_a2f8aa31571d84a178259fa42461cf140}{created\_at}}; }
\DoxyCodeLine{279         uint64\_t \mbox{\hyperlink{structp2p_1_1usdrates2_aa3556a870e531f2a33d3a40ba45bc2da}{primary\_key}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} id;\} }
\DoxyCodeLine{280     \};}
\DoxyCodeLine{281 }
\DoxyCodeLine{282 }
\DoxyCodeLine{283     \textcolor{keyword}{typedef} eosio::multi\_index<\textcolor{stringliteral}{"{}usdrates2"{}}\_n, usdrates2> usdrates2\_index;}
\DoxyCodeLine{284 }
\DoxyCodeLine{285 }
\DoxyCodeLine{293     \textcolor{keyword}{struct }[[eosio::table]] \mbox{\hyperlink{structp2p_1_1bbonuses}{bbonuses}} \{}
\DoxyCodeLine{294         eosio::name \mbox{\hyperlink{structp2p_1_1bbonuses_a196ad62fd6230686cb4cbad9f7ee2aeb}{host}};           }
\DoxyCodeLine{295         eosio::name \mbox{\hyperlink{structp2p_1_1bbonuses_af7676fed529979ab6365421cd6cf72ef}{contract}};       }
\DoxyCodeLine{296         eosio::asset \mbox{\hyperlink{structp2p_1_1bbonuses_a11511c80fc9d57acbf5c61359850ca41}{total}};         }
\DoxyCodeLine{297         eosio::asset \mbox{\hyperlink{structp2p_1_1bbonuses_a931f287a96041d2c581c4c733a62185e}{available}};     }
\DoxyCodeLine{298         eosio::asset \mbox{\hyperlink{structp2p_1_1bbonuses_a14d9c11b5763d73a0c7723556b875349}{distributed}};   }
\DoxyCodeLine{299         \textcolor{keywordtype}{double} \mbox{\hyperlink{structp2p_1_1bbonuses_ac0043fc0d3d405501823046c6e9484ed}{distribution\_rate}};   }
\DoxyCodeLine{301         uint64\_t \mbox{\hyperlink{structp2p_1_1bbonuses_a1707459d7b5c7a86f93973cd2af50736}{primary\_key}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} host.value;\} }
\DoxyCodeLine{302     \};}
\DoxyCodeLine{303 }
\DoxyCodeLine{304 }
\DoxyCodeLine{305     \textcolor{keyword}{typedef} eosio::multi\_index<\textcolor{stringliteral}{"{}bbonuses"{}}\_n, bbonuses> bbonuses\_index;}
\DoxyCodeLine{306 }
\DoxyCodeLine{307 }
\DoxyCodeLine{308 }
\DoxyCodeLine{309 }
\DoxyCodeLine{316       \textcolor{keyword}{struct }[[eosio::table]] \mbox{\hyperlink{structp2p_1_1vesting}{vesting}} \{}
\DoxyCodeLine{317         uint64\_t \mbox{\hyperlink{structp2p_1_1vesting_af92c78d429a89e9b6ce552ef480794d5}{id}};                            }
\DoxyCodeLine{318         eosio::name \mbox{\hyperlink{structp2p_1_1vesting_a46a58437b03f9c7947c76e91f358003e}{owner}};                      }
\DoxyCodeLine{319         eosio::name \mbox{\hyperlink{structp2p_1_1vesting_aa514aefb9ae797ecbf711997efb94d5b}{contract}};                   }
\DoxyCodeLine{320         eosio::time\_point\_sec \mbox{\hyperlink{structp2p_1_1vesting_ac2a702d706aa9146588fffb6113d1c79}{startat}};          }
\DoxyCodeLine{321         uint64\_t \mbox{\hyperlink{structp2p_1_1vesting_a86ada5ec19fb224f483ab95bf5908547}{duration}};                      }
\DoxyCodeLine{322         eosio::asset \mbox{\hyperlink{structp2p_1_1vesting_a5a06c08d24cb3f9b929bc4285dd51179}{amount}};                    }
\DoxyCodeLine{323         eosio::asset \mbox{\hyperlink{structp2p_1_1vesting_a3759f66455f668a402c365554ad6550d}{available}};                 }
\DoxyCodeLine{324         eosio::asset \mbox{\hyperlink{structp2p_1_1vesting_a88ce3db1c7e1d53750a8d6e864da8c6c}{withdrawed}};                }
\DoxyCodeLine{326         uint64\_t \mbox{\hyperlink{structp2p_1_1vesting_a816764ab2ece434f3569aa4210d7442f}{primary\_key}}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} id;\} }
\DoxyCodeLine{328         EOSLIB\_SERIALIZE(\mbox{\hyperlink{structp2p_1_1vesting}{vesting}}, (\textcolor{keywordtype}{id})(owner)(contract)(startat)(duration)(amount)(available)(withdrawed))}
\DoxyCodeLine{329       \};}
\DoxyCodeLine{330 }
\DoxyCodeLine{331       \textcolor{keyword}{typedef} eosio::multi\_index<\textcolor{stringliteral}{"{}vesting"{}}\_n, vesting> vesting\_index;}
\DoxyCodeLine{332 }
\DoxyCodeLine{333 }
\DoxyCodeLine{334 }
\DoxyCodeLine{342     \textcolor{keyword}{struct }[[eosio::table]] \mbox{\hyperlink{structp2p_1_1guests}{guests}} \{}
\DoxyCodeLine{343         eosio::name username;}
\DoxyCodeLine{344         }
\DoxyCodeLine{345         eosio::name registrator;}
\DoxyCodeLine{346         eosio::public\_key public\_key;}
\DoxyCodeLine{347         eosio::asset cpu;}
\DoxyCodeLine{348         eosio::asset net;}
\DoxyCodeLine{349         \textcolor{keywordtype}{bool} set\_referer = \textcolor{keyword}{false};}
\DoxyCodeLine{350         eosio::time\_point\_sec expiration;}
\DoxyCodeLine{351 }
\DoxyCodeLine{352         eosio::asset to\_pay;}
\DoxyCodeLine{353         }
\DoxyCodeLine{354         uint64\_t primary\_key()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} username.value;\}}
\DoxyCodeLine{355         uint64\_t byexpr()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} expiration.sec\_since\_epoch();\}}
\DoxyCodeLine{356         uint64\_t byreg()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} registrator.value;\}}
\DoxyCodeLine{357 }
\DoxyCodeLine{358         EOSLIB\_SERIALIZE(\mbox{\hyperlink{structp2p_1_1guests}{guests}}, (username)(registrator)(public\_key)(cpu)(net)(set\_referer)(expiration)(to\_pay))}
\DoxyCodeLine{359     \};}
\DoxyCodeLine{360 }
\DoxyCodeLine{361     \textcolor{keyword}{typedef} eosio::multi\_index<\textcolor{stringliteral}{"{}guests"{}}\_n, \mbox{\hyperlink{structp2p_1_1guests}{guests}},}
\DoxyCodeLine{362        eosio::indexed\_by< \textcolor{stringliteral}{"{}byexpr"{}}\_n, eosio::const\_mem\_fun<guests, uint64\_t, \&guests::byexpr>>,}
\DoxyCodeLine{363        eosio::indexed\_by< \textcolor{stringliteral}{"{}byreg"{}}\_n, eosio::const\_mem\_fun<guests, uint64\_t, \&guests::byreg>>}
\DoxyCodeLine{364     > guests\_index;}
\DoxyCodeLine{365 }
\DoxyCodeLine{366 }
\DoxyCodeLine{367 \};}

\end{DoxyCode}
